
<style>

  /* 
    Using grid instead of flex here to 
    enforce the constraint of needing 
    identical sized children.

    To keep high performance, this element only
    measures a sample child once per resize.

    This avoids a scenario, which is undeterministic,
    that would require measuring every child dynamically
    in real-time. Doing so would slam the DOM with
    layout thrashing (from calling child.getBoundingClientRect()).

    Perhaps in the future, a more clever developer could
    find a high performance way of measuring uniquely
    sized children on the fly.
  */
  :host {
    display: grid;
    height:  100%;
  }
  
  :host([layout="vertical"]) {
    height:     100vh;
    overflow-y: visible;
  }

  :host([layout="horizontal"]) {
    grid-auto-flow:    column;
    grid-auto-columns: max-content;
    overflow-x:        scroll;
  }

</style>


<!-- 
  This slot is specifically added for the browser's 
  scroll-snap re-snapping workaround which is 
  temporarily implemented in recycled-carousel. 
-->
<slot name="scroll-snap-workaround"></slot>

  
<template is="dom-repeat" 
          items="[[_containerItems]]"
          strip-whitespace
          on-dom-change="__domChangeHandler">

  <div class="container" 
       index="[[index]]">
    
    <slot name$="slot-[[index]]"></slot>

  </div>

</template>
